"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[792],{792:function(e,t,r){r.r(t),r.d(t,{default:function(){return v}});var n=r(861),a=r(439),c=r(757),s=r.n(c),o=r(791),u=r(689),i=r(87),h=function(){var e=(0,n.Z)(s().mark((function e(t){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.themoviedb.org/3/search/movie?&query=".concat(t,"&api_key=19a77e83d08632a429865980c71677d1"));case 3:if((r=e.sent).ok){e.next=6;break}throw new Error("Failed to fetch movie: ".concat(r.status," ").concat(r.statusText));case 6:return e.next=8,r.json();case 8:return n=e.sent,e.abrupt("return",n);case 12:throw e.prev=12,e.t0=e.catch(0),new Error("Failed to fetch movie: ".concat(e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),l=h,f="MovieSearch_formWrapper__YxA77",p=r(184),m=function(){var e=(0,o.useState)([]),t=(0,a.Z)(e,2),r=t[0],c=t[1],h=(0,o.useState)(""),m=(0,a.Z)(h,2),v=m[0],d=m[1],x=(0,u.TH)(),w=(0,u.s0)();(0,o.useEffect)((function(){var e=new URLSearchParams(x.search).get("query");e&&(d(e),k(e))}),[x]);var k=function(){var e=(0,n.Z)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(t);case 3:r=e.sent,c(r.results),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("form",{className:f,onSubmit:function(e){if(e.preventDefault(),""!==v.trim()){d(""),k(v);var t=new URLSearchParams;t.set("query",v),w("?".concat(t.toString()))}else alert("Please enter the name of the film")},children:[(0,p.jsx)("input",{type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movie",value:v,onChange:function(e){var t=e.currentTarget.value.toLowerCase();d(t)}}),(0,p.jsx)("button",{type:"submit",children:(0,p.jsx)("span",{children:"Search"})})]}),(0,p.jsx)("ul",{children:r.length>0&&r.map((function(e){return(0,p.jsx)("li",{children:(0,p.jsx)(i.rU,{to:"/movies/".concat(e.id),state:x,children:e.title})},e.id)}))})]})},v=function(e){var t=e.handleSubmit,r=e.handleChange,n=e.searchMovie;return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(m,{handleSubmit:t,handleChange:r,searchMovie:n})})}}}]);
//# sourceMappingURL=792.129ad304.chunk.js.map